import { createContext, useContext } from 'react';

export type Lang = 'en' | 'pt' | 'es' | 'fr' | 'de' | 'it' | 'ja' | 'ko' | 'zh';

const translations: Record<Lang, Record<string, string>> = {
  en: {
    // Nav
    'nav.overview': 'Overview',
    'nav.chat': 'Chat',
    'nav.tools': 'Tools',
    'nav.usage': 'Usage',
    'nav.plugins': 'Plugins',
    'nav.channels': 'Channels',
    'nav.agents': 'Agents',
    'nav.workspace': 'Workspace',
    'nav.gmail': 'Gmail',
    'nav.memory': 'Memory',
    'nav.rag': 'RAG',
    'nav.apiKeys': 'API Keys',
    'nav.webhooks': 'Webhooks',
    'nav.calendar': 'Calendar',
    'nav.voice': 'Voice',
    'nav.canvas': 'Canvas',
    'nav.recordings': 'Recordings',
    'nav.audit': 'Audit Log',
    'nav.settings': 'Settings',
    'nav.gatewayConnected': 'Gateway connected',

    // Settings
    'settings.title': 'Settings',
    'settings.subtitle': 'Gateway and security configuration',
    'settings.general': 'General',
    'settings.language': 'Language',
    'settings.languageDesc': 'Interface language',
    'settings.llmProviders': 'LLM Providers',
    'settings.connected': 'connected',
    'settings.notSet': 'Not set',
    'settings.apiKey': 'API Key',
    'settings.save': 'Save',
    'settings.remove': 'Remove',
    'settings.storedEncrypted': 'Stored encrypted in Vault (AES-256-GCM)',
    'settings.configureModels': 'Configure models',
    'settings.addModel': 'Add model ID (e.g. gpt-5.2)',
    'settings.saveModels': 'Save models',
    'settings.resetDefaults': 'Reset to defaults',
    'settings.security': 'Security',
    'settings.rateLimiting': 'Rate Limiting',
    'settings.rateLimitDesc': '60 requests per minute per IP',
    'settings.promptGuard': 'Prompt Injection Guard',
    'settings.promptGuardDesc': 'Block score ≥ 0.7',
    'settings.inputSanitizer': 'Input Sanitizer',
    'settings.inputSanitizerDesc': 'XSS, SQL injection, shell commands',
    'settings.auditLogging': 'Audit Logging',
    'settings.auditLoggingDesc': 'All events to MySQL',
    'settings.twoFactorAuth': 'Two-Factor Auth',
    'settings.twoFactorAuthDesc': 'TOTP for critical operations',
    'settings.sessionSandbox': 'Session Sandboxing',
    'settings.sessionSandboxDesc': 'Isolate all sessions by default',
    'settings.rbacEnforce': 'RBAC Hard Enforcement',
    'settings.rbacEnforceDesc': 'Block all anonymous requests to admin routes (403). Requires auth tokens.',
    'settings.webhookAlerts': 'Webhook Alerts',
    'settings.webhookUrl': 'Webhook URL',
    'settings.webhookDesc': 'Receives JSON POST for every security alert (rate limit, injection, integrity failure)',
    'settings.active': 'Active',
    'settings.imageGeneration': 'Image Generation',
    'settings.usesOpenAiKey': 'Uses your OpenAI API key configured above',
    'settings.imageToolHint': 'The image_generate tool is available in the Tools page for testing',
    'settings.webuiUrl': 'WebUI URL',
    'settings.voiceEngine': 'Voice Engine',
    'settings.enabled': 'Enabled',
    'settings.disabled': 'Disabled',
    'settings.vpsSTTTTS': 'VPS STT/TTS (Whisper + Piper)',
    'settings.vpsSTTTTSDesc': 'Whisper (STT) + Piper (TTS) on VPS - free, no OpenAI credits',
    'settings.whisperUrl': 'Whisper API URL',
    'settings.piperUrl': 'Piper API URL',
    'settings.freeSTTTTS': 'Free STT/TTS on your VPS — no OpenAI credits needed',
    'settings.voiceSettings': 'Voice Settings',
    'settings.voiceSettingsDesc': 'TTS provider, STT provider, voice selection, speed',
    'settings.configure': 'Configure →',
    'settings.database': 'Database',
    'settings.engine': 'Engine',
    'settings.host': 'Host',
    'settings.tables': 'Tables',
    'settings.encryption': 'Encryption',
    'settings.ollamaApiKey': 'API Key (optional)',

    // Chat
    'chat.newChat': 'New Chat',
    'chat.searchSessions': 'Search sessions...',
    'chat.noMessages': 'Start a conversation',
    'chat.noMessagesDesc': 'Send a message below to begin',
    'chat.agentWorking': 'Agent working... Please wait.',
    'chat.sending': 'Sending...',
    'chat.thinking': 'Thinking...',
    'chat.finishing': 'Finishing...',
    'chat.askAnything': 'Ask to create something...',
    'chat.speakOrType': 'Speak or type...',
    'chat.transcribing': 'Transcribing audio...',
    'chat.agentExecuting': 'Agent executing...',
    'chat.readOnly': 'Read-only conversation — messages from channel',
    'chat.manageAgents': '+ Manage',
    'chat.agent': 'Agent:',
    'chat.voiceModeOn': 'Disable voice mode',
    'chat.voiceModeOff': 'Enable voice mode (STT + TTS)',
    'chat.stopRecording': 'Stop recording',
    'chat.startRecording': 'Record audio',
    'chat.sendMessage': 'Send message',
    'chat.attachImage': 'Attach image',
    'chat.deleteAll': 'Clear all',
    'chat.deleteAllTitle': 'Clear all conversations',
    'chat.confirm': 'Confirm',
    'chat.cancel': 'Cancel',
    'chat.error': 'Error',
    'chat.requestFailed': 'Request failed',
    'chat.removeImage': 'Remove image',
    'chat.selectImage': 'Select image',
    'chat.hideModels': 'Hide models',
    'chat.savingModels': 'Saving...',
    'settings.claudeSubscription': 'Claude Pro / Max / CLI Subscription',
    'settings.claudeSubscriptionDesc': 'If you have a Claude Pro, Max, or CLI subscription, you can use your subscription token instead of a pay-as-you-go API key. Run claude setup-token in your terminal and paste the generated token (sk-ant-oat01-...) in the API Key field above. ForgeAI auto-detects the token type and uses the correct authentication.',
    'settings.claudeUnavailable': 'Temporarily unavailable:',
    'settings.claudeUnavailableDesc': 'Anthropic has disabled OAuth token authentication on their API. Use a standard API key from',
    'settings.claudeUnavailableEnd': 'until they re-enable subscription-based access.',
    'settings.hideModels': 'Hide models',
    'settings.configModels': 'Configure models',
    'settings.custom': '(custom)',
    'settings.savingModels': 'Saving...',

    // Agents
    'agents.title': 'Agents',
    'agents.subtitle': 'Manage AI agents and their configurations',
    'agents.create': 'Create Agent',
    'agents.default': 'Default',
    'agents.setDefault': 'Set as default',
    'agents.delete': 'Delete',
    'agents.provider': 'Provider',
    'agents.model': 'Model',
    'agents.maxIterations': 'Max Iterations',

    // Overview
    'overview.title': 'Overview',
    'overview.subtitle': 'ForgeAI Gateway real-time monitoring',
    'overview.status': 'Status',
    'overview.healthy': 'Healthy',
    'overview.unknown': 'Unknown',
    'overview.uptime': 'Uptime',
    'overview.securityModules': 'Security Modules',
    'overview.clickDetails': 'Click for details',
    'overview.clickClose': 'Click to close',
    'overview.llmProviders': 'LLM Providers',
    'overview.noneConfigured': 'None configured',
    'overview.securityDetails': 'Security Modules — Details',
    'overview.close': 'Close',
    'overview.active': 'Active',
    'overview.inactive': 'Inactive',
    'overview.recentEvents': 'Recent Events',
    'overview.noSecurityEvents': 'No recent security events — all clear',
    'overview.securityAlerts': 'Security Alerts',
    'overview.promptGuardBlocks': 'prompt guard block(s)',
    'overview.rateLimits': 'rate limit(s)',
    'overview.sandboxViolations': 'sandbox violation(s)',
    'overview.authFailures': 'auth failure(s)',
    'overview.toolsBlocked': 'tool(s) blocked',
    'overview.autopilot': 'Autopilot',
    'overview.running': 'Running',
    'overview.stopped': 'Stopped',
    'overview.tasks': 'Tasks',
    'overview.interval': 'Interval',
    'overview.lastCheck': 'Last check',
    'overview.more': 'more...',
    'overview.otel': 'OpenTelemetry',
    'overview.enabled': 'Enabled',
    'overview.disabled': 'Disabled',
    'overview.spans': 'Spans',
    'overview.metrics': 'Metrics',
    'overview.counters': 'Counters',
    'overview.activeAgent': 'Active Agent',
    'overview.online': 'Online',
    'overview.thinking': 'Thinking:',
    'overview.thinkingOff': 'Off',
    'overview.thinkingLow': 'Low',
    'overview.thinkingMedium': 'Medium',
    'overview.thinkingDeep': 'Deep',
    'overview.temp': 'Temp:',
    'overview.tools': 'Tools:',
    'overview.toolsEnabled': 'enabled',
    'overview.sandbox': 'Sandbox:',
    'overview.sandboxUnavailable': 'Unavailable',
    'overview.activeSessions': 'ACTIVE SESSIONS',
    'overview.totalSaved': 'total saved',
    'overview.totalCost': 'TOTAL COST',
    'overview.tokensUsed': 'TOKENS USED',
    'overview.requests': 'REQUESTS',
    'overview.byProvider': 'By Provider',
    'overview.byModel': 'By Model',
    'overview.costPerSession': 'Cost per Session',
    'overview.session': 'Session',
    'overview.msgs': 'Msgs',
    'overview.reqs': 'Reqs',
    'overview.tokens': 'Tokens',
    'overview.cost': 'Cost',
    'overview.lastActivity': 'Last activity',
    'overview.securityLayer': 'Security Layer',
    'overview.details': 'Details',
    'overview.healthChecks': 'Health Checks',
    'overview.connected': 'Connected',
    'overview.notConfigured': 'Not configured',
    'overview.models': 'Models',
    'overview.gatewayOffline': 'Gateway Offline',
    'overview.gatewayHint': 'Make sure the gateway is running:',

    // Tools
    'tools.title': 'Tools',
    'tools.subtitle': 'Available agent tools and capabilities',

    // Audit
    'audit.title': 'Audit Log',
    'audit.subtitle': 'Security events and system activity',

    // Voice
    'voice.title': 'Voice',
    'voice.subtitle': 'Text-to-Speech and Speech-to-Text configuration',

    // Channels
    'channels.title': 'Channels',
    'channels.subtitle': 'Communication channels configuration',

    // Common
    'common.save': 'Save',
    'common.cancel': 'Cancel',
    'common.delete': 'Delete',
    'common.edit': 'Edit',
    'common.close': 'Close',
    'common.loading': 'Loading...',
    'common.error': 'Error',
    'common.success': 'Success',
    'common.confirm': 'Confirm',
    'common.yes': 'Yes',
    'common.no': 'No',
    'common.add': 'Add',
    'common.back': 'Back',
  },

  pt: {
    // Nav
    'nav.overview': 'Visão Geral',
    'nav.chat': 'Chat',
    'nav.tools': 'Ferramentas',
    'nav.usage': 'Uso',
    'nav.plugins': 'Plugins',
    'nav.channels': 'Canais',
    'nav.agents': 'Agentes',
    'nav.workspace': 'Workspace',
    'nav.gmail': 'Gmail',
    'nav.memory': 'Memória',
    'nav.rag': 'RAG',
    'nav.apiKeys': 'Chaves API',
    'nav.webhooks': 'Webhooks',
    'nav.calendar': 'Calendário',
    'nav.voice': 'Voz',
    'nav.canvas': 'Canvas',
    'nav.recordings': 'Gravações',
    'nav.audit': 'Log de Auditoria',
    'nav.settings': 'Configurações',
    'nav.gatewayConnected': 'Gateway conectado',

    // Settings
    'settings.title': 'Configurações',
    'settings.subtitle': 'Configuração do gateway e segurança',
    'settings.general': 'Geral',
    'settings.language': 'Idioma',
    'settings.languageDesc': 'Idioma da interface',
    'settings.llmProviders': 'Provedores LLM',
    'settings.connected': 'conectados',
    'settings.notSet': 'Não configurado',
    'settings.apiKey': 'Chave API',
    'settings.save': 'Salvar',
    'settings.remove': 'Remover',
    'settings.storedEncrypted': 'Armazenado criptografado no Vault (AES-256-GCM)',
    'settings.configureModels': 'Configurar modelos',
    'settings.addModel': 'Adicionar ID do modelo (ex: gpt-5.2)',
    'settings.saveModels': 'Salvar modelos',
    'settings.resetDefaults': 'Restaurar padrões',
    'settings.security': 'Segurança',
    'settings.rateLimiting': 'Limite de Requisições',
    'settings.rateLimitDesc': '60 requisições por minuto por IP',
    'settings.promptGuard': 'Proteção contra Injeção de Prompt',
    'settings.promptGuardDesc': 'Bloquear score ≥ 0.7',
    'settings.inputSanitizer': 'Sanitizador de Entrada',
    'settings.inputSanitizerDesc': 'XSS, injeção SQL, comandos shell',
    'settings.auditLogging': 'Log de Auditoria',
    'settings.auditLoggingDesc': 'Todos os eventos salvos no MySQL',
    'settings.twoFactorAuth': 'Autenticação em Dois Fatores',
    'settings.twoFactorAuthDesc': 'TOTP para operações críticas',
    'settings.sessionSandbox': 'Sandbox de Sessão',
    'settings.sessionSandboxDesc': 'Isolar todas as sessões por padrão',
    'settings.rbacEnforce': 'RBAC Enforçado',
    'settings.rbacEnforceDesc': 'Bloquear requisições anônimas em rotas admin (403). Requer tokens de autenticação.',
    'settings.webhookAlerts': 'Alertas via Webhook',
    'settings.webhookUrl': 'URL do Webhook',
    'settings.webhookDesc': 'Recebe POST JSON para cada alerta de segurança (rate limit, injeção, falha de integridade)',
    'settings.active': 'Ativo',
    'settings.imageGeneration': 'Geração de Imagens',
    'settings.usesOpenAiKey': 'Usa sua chave API OpenAI configurada acima',
    'settings.imageToolHint': 'A ferramenta image_generate está disponível na página Ferramentas para testes',
    'settings.webuiUrl': 'URL da WebUI',
    'settings.voiceEngine': 'Motor de Voz',
    'settings.enabled': 'Ativado',
    'settings.disabled': 'Desativado',
    'settings.vpsSTTTTS': 'VPS STT/TTS (Whisper + Piper)',
    'settings.vpsSTTTTSDesc': 'Whisper (STT) + Piper (TTS) na VPS - gratuito, sem créditos OpenAI',
    'settings.whisperUrl': 'URL da API Whisper',
    'settings.piperUrl': 'URL da API Piper',
    'settings.freeSTTTTS': 'STT/TTS gratuito na sua VPS — sem créditos OpenAI necessários',
    'settings.voiceSettings': 'Configurações de Voz',
    'settings.voiceSettingsDesc': 'Provedor TTS, provedor STT, seleção de voz, velocidade',
    'settings.configure': 'Configurar →',
    'settings.database': 'Banco de Dados',
    'settings.engine': 'Motor',
    'settings.host': 'Host',
    'settings.tables': 'Tabelas',
    'settings.encryption': 'Criptografia',
    'settings.ollamaApiKey': 'Chave API (opcional)',

    // Chat
    'chat.newChat': 'Novo Chat',
    'chat.searchSessions': 'Buscar sessões...',
    'chat.noMessages': 'Inicie uma conversa',
    'chat.noMessagesDesc': 'Envie uma mensagem abaixo para começar',
    'chat.agentWorking': 'Agente trabalhando... Aguarde.',
    'chat.sending': 'Enviando...',
    'chat.thinking': 'Pensando...',
    'chat.finishing': 'Finalizando...',
    'chat.askAnything': 'Peça para criar algo...',
    'chat.speakOrType': 'Fale ou digite...',
    'chat.transcribing': 'Transcrevendo áudio...',
    'chat.agentExecuting': 'Agente executando...',
    'chat.readOnly': 'Conversa somente leitura — mensagens do canal',
    'chat.manageAgents': '+ Gerenciar',
    'chat.agent': 'Agente:',
    'chat.voiceModeOn': 'Desativar modo voz',
    'chat.voiceModeOff': 'Ativar modo voz (STT + TTS)',
    'chat.stopRecording': 'Parar gravação',
    'chat.startRecording': 'Gravar áudio',
    'chat.sendMessage': 'Enviar mensagem',
    'chat.attachImage': 'Anexar imagem',
    'chat.deleteAll': 'Limpar tudo',
    'chat.deleteAllTitle': 'Limpar todas as conversas',
    'chat.confirm': 'Confirmar',
    'chat.cancel': 'Cancelar',
    'chat.error': 'Erro',
    'chat.requestFailed': 'Falha na requisição',
    'chat.removeImage': 'Remover imagem',
    'chat.selectImage': 'Selecionar imagem',
    'chat.hideModels': 'Ocultar modelos',
    'chat.savingModels': 'Salvando...',
    'settings.claudeSubscription': 'Assinatura Claude Pro / Max / CLI',
    'settings.claudeSubscriptionDesc': 'Se você tem uma assinatura Claude Pro, Max ou CLI, pode usar seu token de assinatura em vez de uma chave API paga por uso. Execute claude setup-token no terminal e cole o token gerado (sk-ant-oat01-...) no campo Chave API acima. ForgeAI detecta automaticamente o tipo de token e usa a autenticação correta.',
    'settings.claudeUnavailable': 'Temporariamente indisponível:',
    'settings.claudeUnavailableDesc': 'Anthropic desativou a autenticação por token OAuth em sua API. Use uma chave API padrão de',
    'settings.claudeUnavailableEnd': 'até que reabilitem o acesso por assinatura.',
    'settings.hideModels': 'Ocultar modelos',
    'settings.configModels': 'Configurar modelos',
    'settings.custom': '(personalizado)',
    'settings.savingModels': 'Salvando...',

    // Agents
    'agents.title': 'Agentes',
    'agents.subtitle': 'Gerencie agentes de IA e suas configurações',
    'agents.create': 'Criar Agente',
    'agents.default': 'Padrão',
    'agents.setDefault': 'Definir como padrão',
    'agents.delete': 'Excluir',
    'agents.provider': 'Provedor',
    'agents.model': 'Modelo',
    'agents.maxIterations': 'Máx. Iterações',

    // Overview
    'overview.title': 'Visão Geral',
    'overview.subtitle': 'Monitoramento em tempo real do ForgeAI Gateway',
    'overview.status': 'Status',
    'overview.healthy': 'Saudável',
    'overview.unknown': 'Desconhecido',
    'overview.uptime': 'Tempo ativo',
    'overview.securityModules': 'Módulos de Segurança',
    'overview.clickDetails': 'Clique para detalhes',
    'overview.clickClose': 'Clique para fechar',
    'overview.llmProviders': 'Provedores LLM',
    'overview.noneConfigured': 'Nenhum configurado',
    'overview.securityDetails': 'Módulos de Segurança — Detalhes',
    'overview.close': 'Fechar',
    'overview.active': 'Ativo',
    'overview.inactive': 'Inativo',
    'overview.recentEvents': 'Eventos Recentes',
    'overview.noSecurityEvents': 'Nenhum evento de segurança recente — tudo limpo',
    'overview.securityAlerts': 'Alertas de Segurança',
    'overview.promptGuardBlocks': 'bloqueio(s) de prompt guard',
    'overview.rateLimits': 'rate limit(s)',
    'overview.sandboxViolations': 'violação(ões) de sandbox',
    'overview.authFailures': 'falha(s) de autenticação',
    'overview.toolsBlocked': 'ferramenta(s) bloqueada(s)',
    'overview.autopilot': 'Autopilot',
    'overview.running': 'Rodando',
    'overview.stopped': 'Parado',
    'overview.tasks': 'Tarefas',
    'overview.interval': 'Intervalo',
    'overview.lastCheck': 'Último check',
    'overview.more': 'mais...',
    'overview.otel': 'OpenTelemetry',
    'overview.enabled': 'Ativo',
    'overview.disabled': 'Desativado',
    'overview.spans': 'Spans',
    'overview.metrics': 'Métricas',
    'overview.counters': 'Contadores',
    'overview.activeAgent': 'Agente Ativo',
    'overview.online': 'Online',
    'overview.thinking': 'Thinking:',
    'overview.thinkingOff': 'Desligado',
    'overview.thinkingLow': 'Leve',
    'overview.thinkingMedium': 'Médio',
    'overview.thinkingDeep': 'Profundo',
    'overview.temp': 'Temp:',
    'overview.tools': 'Tools:',
    'overview.toolsEnabled': 'habilitadas',
    'overview.sandbox': 'Sandbox:',
    'overview.sandboxUnavailable': 'Indisponível',
    'overview.activeSessions': 'SESSÕES ATIVAS',
    'overview.totalSaved': 'total salvas',
    'overview.totalCost': 'CUSTO TOTAL',
    'overview.tokensUsed': 'TOKENS USADOS',
    'overview.requests': 'REQUISIÇÕES',
    'overview.byProvider': 'Por Provider',
    'overview.byModel': 'Por Modelo',
    'overview.costPerSession': 'Custo por Sessão',
    'overview.session': 'Sessão',
    'overview.msgs': 'Msgs',
    'overview.reqs': 'Reqs',
    'overview.tokens': 'Tokens',
    'overview.cost': 'Custo',
    'overview.lastActivity': 'Última atividade',
    'overview.securityLayer': 'Camada de Segurança',
    'overview.details': 'Detalhes',
    'overview.healthChecks': 'Health Checks',
    'overview.connected': 'Conectado',
    'overview.notConfigured': 'Não configurado',
    'overview.models': 'Modelos',
    'overview.gatewayOffline': 'Gateway Offline',
    'overview.gatewayHint': 'Certifique-se de que o gateway está rodando:',

    // Tools
    'tools.title': 'Ferramentas',
    'tools.subtitle': 'Ferramentas e capacidades disponíveis dos agentes',

    // Audit
    'audit.title': 'Log de Auditoria',
    'audit.subtitle': 'Eventos de segurança e atividade do sistema',

    // Voice
    'voice.title': 'Voz',
    'voice.subtitle': 'Configuração de Text-to-Speech e Speech-to-Text',

    // Channels
    'channels.title': 'Canais',
    'channels.subtitle': 'Configuração dos canais de comunicação',

    // Common
    'common.save': 'Salvar',
    'common.cancel': 'Cancelar',
    'common.delete': 'Excluir',
    'common.edit': 'Editar',
    'common.close': 'Fechar',
    'common.loading': 'Carregando...',
    'common.error': 'Erro',
    'common.success': 'Sucesso',
    'common.confirm': 'Confirmar',
    'common.yes': 'Sim',
    'common.no': 'Não',
    'common.add': 'Adicionar',
    'common.back': 'Voltar',
  },

  es: {
    'nav.overview': 'Resumen', 'nav.chat': 'Chat', 'nav.tools': 'Herramientas', 'nav.usage': 'Uso',
    'nav.plugins': 'Plugins', 'nav.channels': 'Canales', 'nav.agents': 'Agentes', 'nav.workspace': 'Workspace',
    'nav.gmail': 'Gmail', 'nav.memory': 'Memoria', 'nav.rag': 'RAG', 'nav.apiKeys': 'Claves API',
    'nav.webhooks': 'Webhooks', 'nav.calendar': 'Calendario', 'nav.voice': 'Voz', 'nav.canvas': 'Canvas', 'nav.recordings': 'Grabaciones', 'nav.audit': 'Log de Auditoría',
    'nav.settings': 'Configuración', 'nav.gatewayConnected': 'Gateway conectado',
    'settings.title': 'Configuración', 'settings.subtitle': 'Configuración del gateway y seguridad',
    'settings.general': 'General', 'settings.language': 'Idioma', 'settings.languageDesc': 'Idioma de la interfaz',
    'settings.llmProviders': 'Proveedores LLM', 'settings.connected': 'conectados',
    'settings.notSet': 'No configurado', 'settings.apiKey': 'Clave API', 'settings.save': 'Guardar',
    'settings.security': 'Seguridad', 'settings.voiceEngine': 'Motor de Voz',
    'settings.enabled': 'Activado', 'settings.disabled': 'Desactivado',
    'settings.database': 'Base de Datos',
    'chat.newChat': 'Nuevo Chat', 'chat.askAnything': 'Pide algo...', 'chat.sendMessage': 'Enviar mensaje',
    'common.save': 'Guardar', 'common.cancel': 'Cancelar', 'common.delete': 'Eliminar',
  },

  fr: {
    'nav.overview': 'Aperçu', 'nav.chat': 'Chat', 'nav.tools': 'Outils', 'nav.usage': 'Utilisation',
    'nav.plugins': 'Plugins', 'nav.channels': 'Canaux', 'nav.agents': 'Agents', 'nav.workspace': 'Workspace',
    'nav.settings': 'Paramètres', 'nav.gatewayConnected': 'Gateway connecté',
    'settings.title': 'Paramètres', 'settings.subtitle': 'Configuration du gateway et sécurité',
    'settings.general': 'Général', 'settings.language': 'Langue', 'settings.languageDesc': 'Langue de l\'interface',
    'settings.llmProviders': 'Fournisseurs LLM', 'settings.security': 'Sécurité',
    'settings.voiceEngine': 'Moteur Vocal', 'settings.database': 'Base de Données',
    'chat.newChat': 'Nouveau Chat', 'chat.askAnything': 'Demandez quelque chose...',
    'common.save': 'Enregistrer', 'common.cancel': 'Annuler', 'common.delete': 'Supprimer',
  },

  de: {
    'nav.overview': 'Übersicht', 'nav.chat': 'Chat', 'nav.tools': 'Werkzeuge', 'nav.settings': 'Einstellungen',
    'nav.gatewayConnected': 'Gateway verbunden',
    'settings.title': 'Einstellungen', 'settings.general': 'Allgemein', 'settings.language': 'Sprache',
    'settings.languageDesc': 'Oberflächensprache', 'settings.security': 'Sicherheit',
    'chat.newChat': 'Neuer Chat', 'common.save': 'Speichern', 'common.cancel': 'Abbrechen',
  },

  it: {
    'nav.overview': 'Panoramica', 'nav.chat': 'Chat', 'nav.tools': 'Strumenti', 'nav.settings': 'Impostazioni',
    'nav.gatewayConnected': 'Gateway connesso',
    'settings.title': 'Impostazioni', 'settings.general': 'Generale', 'settings.language': 'Lingua',
    'settings.languageDesc': 'Lingua dell\'interfaccia', 'settings.security': 'Sicurezza',
    'chat.newChat': 'Nuova Chat', 'common.save': 'Salva', 'common.cancel': 'Annulla',
  },

  ja: {
    'nav.overview': '概要', 'nav.chat': 'チャット', 'nav.tools': 'ツール', 'nav.settings': '設定',
    'nav.gatewayConnected': 'ゲートウェイ接続中',
    'settings.title': '設定', 'settings.general': '一般', 'settings.language': '言語',
    'settings.languageDesc': 'インターフェース言語',
    'chat.newChat': '新しいチャット', 'common.save': '保存', 'common.cancel': 'キャンセル',
  },

  ko: {
    'nav.overview': '개요', 'nav.chat': '채팅', 'nav.tools': '도구', 'nav.settings': '설정',
    'nav.gatewayConnected': '게이트웨이 연결됨',
    'settings.title': '설정', 'settings.general': '일반', 'settings.language': '언어',
    'settings.languageDesc': '인터페이스 언어',
    'chat.newChat': '새 채팅', 'common.save': '저장', 'common.cancel': '취소',
  },

  zh: {
    'nav.overview': '概览', 'nav.chat': '聊天', 'nav.tools': '工具', 'nav.settings': '设置',
    'nav.gatewayConnected': '网关已连接',
    'settings.title': '设置', 'settings.general': '通用', 'settings.language': '语言',
    'settings.languageDesc': '界面语言',
    'chat.newChat': '新聊天', 'common.save': '保存', 'common.cancel': '取消',
  },
};

// Nav key mapping for Layout
export const NAV_KEYS: Record<string, string> = {
  'Overview': 'nav.overview',
  'Chat': 'nav.chat',
  'Tools': 'nav.tools',
  'Usage': 'nav.usage',
  'Plugins': 'nav.plugins',
  'Channels': 'nav.channels',
  'Agents': 'nav.agents',
  'Workspace': 'nav.workspace',
  'Gmail': 'nav.gmail',
  'Memory': 'nav.memory',
  'RAG': 'nav.rag',
  'API Keys': 'nav.apiKeys',
  'Webhooks': 'nav.webhooks',
  'Calendar': 'nav.calendar',
  'Voice': 'nav.voice',
  'Canvas': 'nav.canvas',
  'Recordings': 'nav.recordings',
  'Audit Log': 'nav.audit',
  'Settings': 'nav.settings',
};

export interface I18nContextType {
  lang: Lang;
  setLang: (lang: Lang) => void;
  t: (key: string) => string;
}

export const I18nContext = createContext<I18nContextType>({
  lang: 'en',
  setLang: () => {},
  t: (key: string) => key,
});

export function useI18n() {
  return useContext(I18nContext);
}

export function translate(lang: Lang, key: string): string {
  return translations[lang]?.[key] ?? translations.en[key] ?? key;
}

export function getInitialLang(): Lang {
  const saved = localStorage.getItem('forgeai-language');
  if (saved && saved in translations) return saved as Lang;
  return 'en';
}
